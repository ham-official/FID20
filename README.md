# FRC20 Token Contract

This repo contains an example FRC20 contract. FRC20 tokens are ERC20 tokens that can only be owned and traded by wallets with Farcaster accounts. This is possible on Ham chain where Farcaster ID (FID) to wallet mappings exist natively onchain.

[Learn more](https://docs.ham.fun/docs/farcaster-data) about Ham chain and onchain Farcaster data by reading the docs.

![Ham Logo](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201219.0781%20252.2059'%3e%3cg%20id='Components'%3e%3cg%20id='_9958507d-eddd-41a2-bc1a-11b908bf9f4b_1'%3e%3cpath%20d='M535.567,99.0305h95.624V0h66.5533v246.4687h-66.5533v-90.828h-95.624v90.828h-66.1721V0h66.1721v99.0305Z'%20style='fill:%23eb4747;%20stroke-width:0px;'/%3e%3cpath%20d='M847.2963,75.4932h61.1999v170.9756h-61.1999v-18.7426c-14.1516,19.5075-36.3365,24.4797-53.1667,24.4797-18.3601,0-40.9274-5.3547-61.5812-27.1571-16.4477-17.5951-24.4797-37.1014-24.4797-62.7286,0-32.1305,12.6217-54.6978,26.3921-68.467,14.5341-14.5353,37.1014-24.0972,61.5812-24.0972,27.5395,0,43.9872,14.1516,51.2543,22.1849v-16.4477ZM783.0378,132.8671c-8.4157,8.0332-12.2405,19.125-12.2405,27.922,0,9.9456,4.2072,20.655,11.858,27.9232,6.5021,6.1196,17.2114,11.4743,27.5395,11.4743,9.9444,0,19.89-4.2072,27.5395-11.8568,5.3547-5.3559,11.4743-13.7704,11.4743-27.5408,0-8.032-2.2949-18.7413-11.8568-27.922-5.7371-5.3547-14.5353-11.0918-27.5395-11.0918-7.6508,0-17.9776,2.6773-26.7746,11.0918Z'%20style='fill:%23eb4747;%20stroke-width:0px;'/%3e%3cpath%20d='M927.6163,75.4932h61.1987v20.655c14.5353-17.5951,34.4253-23.7148,51.2543-23.7148,12.2405,0,23.7148,2.6773,32.8954,7.6495,12.6217,6.5021,19.5075,16.0652,23.7148,24.4797,6.8846-12.2392,15.6815-19.5075,23.3323-23.7148,12.2392-6.8846,24.0972-8.4145,35.5715-8.4145,12.623,0,33.2779,1.9124,47.4295,15.6828,15.3003,14.9166,16.0652,35.1891,16.0652,47.0458v111.3068h-61.1999v-84.531c0-17.9776-1.9124-30.2181-8.797-36.7202-3.4423-3.0598-8.032-5.7371-16.0652-5.7371-6.8846,0-12.6217,1.9124-17.9764,6.8846-10.3281,9.9456-11.093,24.0972-11.093,32.5117v87.592h-61.1987v-84.531c0-16.4477-1.1474-29.4531-8.0332-36.7202-5.3547-5.7371-12.2392-6.8846-18.3601-6.8846-6.5021,0-11.8568,1.1474-16.829,6.1196-10.7106,10.3269-10.7106,26.7746-10.7106,37.4851v84.531h-61.1987V75.4932Z'%20style='fill:%23eb4747;%20stroke-width:0px;'/%3e%3cpath%20d='M399.3658,142.0809c-4.9579-11.9229-11.7558-22.1653-5.9399-33.1599,19.2615-27.913-3.194-66.3935-37.4001-62.48-18.27-20.9502-43.8899-35.3201-72.8101-39.05-6.3615-2.1292-78.4677-15.563-137.5698.0901-30.1266,7.9647-58.4888,23.89-77.8801,48.5999C41.0497,33.6064.0057,52.749.0057,87.6609.0057,113.3246,21.4744,117.6418,9.9358,131.3108c-22.2739,24.7124-5.0527,68.1001,31.3198,68.1001,9.6301,0,18.5-3.3101,25.53-8.8601,45.7937,58.217,141.4051,64.4232,216.3301,47.8901,27.77-3.5601,52.51-16.9399,70.6101-36.53,33.7676,5.4781,59.5753-29.0444,45.6399-59.8301ZM41.2557,187.4109c-27.0618,0-37.4119-33.0481-22.46-48,9.0869-10.385,7.6129-23.9882.22-32.77-23.5595-27.573,15.0686-64.8741,41.8201-40.7-23.0902,36.9183-20.2009,83.2351-.9299,114.73-5.0701,4.21-11.5601,6.74-18.6501,6.74ZM213.0514,20.1732c-49.37,25.8497-68.7396,79.9557-58.4285,128.112,9.3665,43.7451-45.6346,71.4942-74.9577,37.7078C22.7173,120.377,65.7783,11.8222,211.0505,11.9757c4.544.0048,6.0264,6.0898,2.0008,8.1975ZM163.7259,122.9009c0-93.3468,114.1356-140.017,179.3999-72.74-3.5701,1.72-6.8701,3.95-9.79,6.6399C275.2911-.0138,176.1956,40.7709,176.1956,122.9009c0,79.1896,93.5962,121.2875,152.7731,70.1162,1.3436-1.1618,3.3146-1.1545,4.6999-.0427,1.046.8395,2.1311,1.6292,3.2517,2.367,2.0145,1.3263,2.2827,4.1915.4833,5.7977-66.5914,59.4411-173.6777,11.8586-173.6777-78.2382ZM268.6558,80.231c-23.3221,0-42.3362,18.7785-42.7336,42.0076-.4091,23.9116,19.5755,43.4821,43.4906,43.4821h45.983c3.1684,0,2.8427,3.265,5.0563,9.1482,1.7267,4.589.1071,9.7543-3.811,12.7019-51.7742,38.95-128.4455,2.2119-128.4455-64.6699,0-69.9531,83.1422-105.9989,134.1134-60.0157,2.0066,1.8103,2.5794,4.6842,1.4822,7.154-.7869,1.7715-1.4498,3.6172-1.9755,5.5316-1.7866,6.4411-3.9049,4.6602-53.1599,4.6602ZM391.1358,161.231c-.9344,19.6481-21.3009,35.0626-41.6101,27.2-25.451-9.7512-13.5996-34.7102-34.1299-34.7102h-46.74c-16.95,0-30.74-13.7898-30.74-30.7397s13.79-30.75,30.74-30.75h47.0798c8.2002,0,15.46-5.54,17.6501-13.48,10.5243-38.1572,73.3323-18.8383,49.6599,24.1499-13.1505,19.7257,8.9938,39.6139,8.0901,58.3301Z'%20style='fill:%23eb4747;%20stroke-width:0px;'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)

## Running tests

You can run fork tests that interact with a forked version of Ham chain. This ensures that the tests will be able to access onchain FID to wallet mappings.

```
forge test --fork-url https://rpc.ham.fun --match-path ./test/FRC20.t.sol  -vvv
```

## Foundry

**Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.**

Foundry consists of:

- **Forge**: Ethereum testing framework (like Truffle, Hardhat and DappTools).
- **Cast**: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.
- **Anvil**: Local Ethereum node, akin to Ganache, Hardhat Network.
- **Chisel**: Fast, utilitarian, and verbose solidity REPL.

## Documentation

https://book.getfoundry.sh/

## Usage

### Build

```shell
$ forge build
```

### Test

```shell
$ forge test
```

### Format

```shell
$ forge fmt
```

### Gas Snapshots

```shell
$ forge snapshot
```

### Anvil

```shell
$ anvil
```

### Deploy

```shell
$ forge script script/Counter.s.sol:CounterScript --rpc-url <your_rpc_url> --private-key <your_private_key>
```

### Cast

```shell
$ cast <subcommand>
```

### Help

```shell
$ forge --help
$ anvil --help
$ cast --help
```
